#!/usr/bin/env bash
source ~/strict.bash
set -x
if is-mac;then
	softwareupdate --all --install --force --verbose
	mas upgrade
	brew update
	brew upgrade
	brew unlink awscli;and brew link awscli@1
	brew unlink node node@14;and brew link --overwrite node@12
fi
omf update
fisher update

tfenv install latest
tfenv use latest

flutter upgrade

function npm-outdated
	npm outdated --global --parseable | ag --only-matching '(?<=/node_modules/).+?(?=:)'
end

if npm-outdated | ag --silent --literal 'npm' >/dev/null
	npm install --global --force npm
end

for module in (npm-outdated)
	npm install --global $module
end
npm install --global local-web-server@4
npm rebuild

#gem update --system
#gem update
#bundle update
ngrok update

for pkg in (pip3 list --outdated --format freeze | ag --only-matching '.+(?===)')
	pip3 install --upgrade $pkg 
end
pip3 check

~/.vim/install.fish

~/.spacemacs.d/update.sh

curl https://raw.githubusercontent.com/axrs/cljog/master/cljog -o /usr/local/bin/cljog
cljog --update

tldr --update

#pwsh -Command Update-Help

gcloud components update --quiet

~/update-projects
~/patch
fish_update_completions
~/save
