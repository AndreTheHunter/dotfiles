#!/usr/bin/env bash
#shellcheck source=strict.bash
source ~/strict.bash
for version in \
	latest:2 \
	latest:3.10 \
	latest:3.11 \
	latest
do
	asdf install python $version
done
for version in \
	2 \
	3.10 \
	3.11 \
	3.12
do
	asdf-uninstall-old python $version
done
asdf global python latest
python --version
pip install --upgrade pip
xargs pip install <"$HOME/.default-python-packages"
xargs -L 1 pipx install <"$HOME/Pipxfile"
pipx upgrade-all
asdf reshim python
"$HOME/.asdf/shims/register-python-argcomplete" --shell fish pipx >~/.config/fish/completions/pipx.fish
